<div class="container mt-5" *ngIf="route">
  <h1 class="title-color"><span class="fa-solid fa-train-track me-3"></span>Route details</h1>

  <button
    (click)="toggleForm()"
    class="btn my-3"
    [ngClass]="showForm ? 'btn-danger' : 'btn-primary'"
  >
    <span class="fa-solid me-1" [ngClass]="showForm ? 'fa-times' : 'fa-edit'"></span>
    {{ showForm ? 'Cancel' : 'Edit' }}
  </button>
  <div *ngIf="showForm" class="col-12 col-md-3">
    <app-routes-update [route]="route" (updatedRoute)="route = $event"></app-routes-update>
  </div>

  <p class="label-color">
    <a class="link-color" [routerLink]="['/stations', route.start_station]">{{ route.start_station_name }}</a>
    to
    <a class="link-color" [routerLink]="['/stations', route.end_station]">{{ route.end_station_name }}</a>
  </p>

  <ul class="label-color">
    <li *ngIf="route.nickname != null">Aka {{ route.nickname }}</li>
    <li>Length: {{ route.length }} km</li>
    <li>Maximum permitted speed of {{ route.max_speed }} km/h</li>
    <li>Traffic: {{ route.type }}</li>
    <li>Actual state: {{ route.actual_state }}</li>
    <li *ngIf="route.opening_year != null">Opened in {{ route.opening_year }}</li>
    <li *ngIf="route.latest_maintenance != null">Latest maintenance in {{ route.latest_maintenance }}</li>
    <li>Gauge: {{ route.gauge }} mm</li>
    <li>Electrification status: {{ route.electrified }}</li>
    <li *ngIf="route.electrification_voltage != null">Electrification voltage: {{ route.electrification_voltage }} V</li>
  </ul>

  <h4 class="title-color"><span class="fa-solid fa-train-tunnel me-3"></span>Trains on this route</h4>
  <ul class="label-color">
    <li *ngFor="let train of route.trains">
      <a class="link-color" [routerLink]="['/trains', train.id]">
        {{ train.model.name }} {{ train.number }}
      </a>
    </li>
  </ul>

  <a routerLink="/routes" class="btn btn-secondary mt-3"><span class="fa-solid fa-arrow-left me-2"></span>Back to the list</a>
</div>
